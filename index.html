<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Image Splicing Detection | Home</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<link rel="stylesheet" href="style.css">



</head>

<body>
	<header>
		<center>
			<nav class="nav">
				<h1>Image Splicing Detection 1.0</h1>

			</nav>

		</center>


	</header>
	<section id="input-r">
		<center>
			<div class="input-image">
				<form method="POST" action="http://localhost:3000/prediction" enctype="multipart/form-data" id="idForm">
					<label>
						<h3>Upload Image<h3>
					</label>
					<input type="file" name="image" id="test" value="Upload an image"><br><br>
					<input type="submit" name="submit" value="submit" id="btn-submit">



				</form>

			</div>
			<br><br>
			<div class="result" id="result"></div>

		</center>


	</section><br><br><br><br><br><br><br><br><br><br><br><br>
	<footer>
		<center>
			<h4>Copyright @:2021 All Rights Reserved</h4>

		</center>


	</footer>

	<script>

		$("#idForm").submit(function (e) {

			e.preventDefault(); // avoid to execute the actual submit of the form.

			var form = $(this);
			var url = form.attr('action');
			var formData = new FormData();

			const file = document.querySelector('#test').files[0];
			formData.append("image", file)
			console.log(file)
			$.ajax({
				type: "POST",
				url: "http://localhost:3000/prediction",
				data: formData,
				contentType: false,
				processData: false,
				success: function (result) {
					//alert(JSON.stringify(result));
					console.log(result)
					document.getElementById('result').innerHTML = result['description'];


				}
			});


		});



	</script>

</body>

</html>